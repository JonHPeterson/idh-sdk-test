openapi: 3.1.0
info:
  contact:
    email: support@theidh.com
    name: API Support
  description: |
    The Industrial Data Hub Operational Techology (OT) API provides programmatic access to industrial data from The Indusrial Data Hub. This RESTful interface bridges modern web applications with high-performance time series data management, enabling efficient querying and analysis of historical industrial data.

    ## Overview
    Operational data, especially the timeseries data, to be meaningful, must include context such as:

    - The equipment, sensor type, and sensor location of the measurement
    - The product the equipment was producing or the equipment state when the measurements were taken

    Therefore, The Industrial Data Hub (IDH) organizes OT data in 4 "orthogonal" components. These components are designed to provide necessary context, and the data itself. These compoents are:

    - Timeseries. Timeseries is all the sensor, equipment state, and other data that varies over time and is stored as a series of value, status, time triplets. Timeseries data is typically sourced from DCSs, SCADAs, and IIOT. Traditionally this data was stored in historians and indeed historians provide a common source of data to The IDH. The IDH has, and provides, advanced timeseries data storage and management. Timeseries data in The IDH are organized by "Tag". Tag is industry standard nomenclature; channels, signals, and points are synonyms for Tags.
    - Units of Measure (UOM). The Timeseries support also includes a UOM system. The UOM system is provided by: "Copyright 2025 University Corporation for Atmospheric Research and contributors. All rights reserved." The UOM system is very flexible. It has an extensive base unit system and supports any derived units. Derived units can be any combination of products, inverse, powers, logs, and offset. Most expected syntaxes work. Use the APIs calls below to view and experiment with UOMs. All the get samples calls support supplying a from UOM and a to UOM. The from UOM is the presumed UOM the data is stored in the timeseries database. The timeseries database supports assigning a UOM to tags; however this is not a requirement. If the from UOM is empty, and the to UOM is provided, the get sample calls will try to lookup the stored UOM. The UOM system has the following disclaimer by UCAR: "THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE CONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS WITH THE SOFTWARE."
    - Metadata. Metadata is the data about the timeseries data. Metadata in The IDH largely focuses on data provenance; where the data came from and all the related data available from the data source. The metadata is automaticaly maintained by The IDH as part of the data acquisition process. Users familiar with the data in the legacy sysystems, such as historians, will recognize their data because The IDH has all the data about the data. Metadata typically has references to timeseries tags.
    - Assets. Assets allow for detailed equipment modeling including hierarchies and networks. Assets provide the means to tie timeseries/sensor data (tags!) to physical assets. There are no limits to the number of assets and the relations to the timeseries data. Assets can be organized and re-used in many different ways.
    - Classifications. Classifications allow identifying what equipment was doing, the state, or the condition. Classifications can by anything they just need a start and end time. Optionally, classifications can reference Assets, Metadata, and Timeseries. Events and eventframes are typically used names for classifications; however Event is an overloaded term.

    ## Administration
    - **Admin. A set of apis are provided to check the health of The IDH and other system management tasks.

    ## Key Features
    - Impedance Match**: The IDH APIs do the heavy lifting. The goal is allowing data be queried in ways OT personnel understand *and* return the data ready to use in OT apps. OT personnel can then focus on their domain, not wrestling with data to feed to Numpy or Pytorch. Contact us below and tell how you want to use The IDH data if it is not easy enough.
    - Metadata Discovery**: Query available time series by tags, retrieve units of measurement, engineering descriptions, and data type information
    - Flexible Time Range Queries**: Retrieve samples with precise timestamp filtering, supporting both Unix epoch and ISO 8601 time formats
    - Archive Management**: List available archives, query archive statistics, and access multiple data sources
    - Data Retrieval**: Efficiently fetch time series samples with support for multiple series in a single request
    - State and Tag Management**: Query system states and manage tag associations for organizing related time series
    - Access data by familiar equipment names and organization.
    - Use classifications to access data by state, production runs, failure modes and by what was happening rather than always needing to provide time.

    ## Authentication & Security
    All API endpoints require authentication via AWS Cognito JWT tokens. Clients must include a valid bearer token in the Authorization header for every request. The token should be prefixed with "Bearer " (e.g., "Bearer eyJhbGc..."). Tokens are validated against the Cognito JWKS (JSON Web Key Set) to ensure authenticity and proper authorization.
  license:
    name: The IDH License
    url: http://www.theidh.com/licenses/LICENSE-1.0.html
  termsOfService: http://swagger.io/terms/
  title: IDH-OTA
  version: "1.0"
paths:
  /admin/health:
    get:
      operationId: GetAdminHealth
      summary: Health check
      description: Get the health status of the API
      tags:
        - admin
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Health status
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /admin/version:
    get:
      operationId: GetAdminVersion
      summary: Get IDH App Server version
      description: Get the current version of the IDH App Server
      tags:
        - admin
      security:
        - BearerAuth: []
      responses:
        '200':
          description: IDH App Server version
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VersionInfoResponse'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/assets/rootassets:
    get:
      operationId: GetRootAssets
      summary: Get all the root assets
      description: Get all the root assets
      tags:
        - assets
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Map of asset UUIDs to asset names (or similar)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RootAssetsResponse' 
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true

  /api/v1/assets/{assetUUID}:
    get:
      operationId: GetAssetByUUID
      summary: Get asset by UUID
      description: Get asset by UUID
      tags:
        - assets
      security:
        - BearerAuth: []
      parameters:
        - name: assetUUID
          in: path
          required: true
          schema:
            type: string
          description: Asset UUID
      responses:
        '200':
          description: Asset details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AssetResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/classifications{name}:
    get:
      operationId: GetClassificationByName
      summary: Get classification by name
      description: Get classification by name
      tags:
        - classifications
      security:
        - BearerAuth: []
      parameters:
        - name: name
          in: path
          required: true
          schema:
            type: string
          description: Classification Name
      responses:
        '200':
          description: Classification details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClassificationResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/metadata/sources:
    get:
      operationId: ListSources
      summary: List all sources
      description: Get list of all sources. Sources may be historians, SCADA, DCS, IIOT, or any source of data
      tags:
        - metadata
      security:
        - BearerAuth: []
      responses:
        '200':
          description: List of sources
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  $ref: '#/components/schemas/SourcesResponse'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/metadata/sources/{nameOrUUID}:
    get:
      operationId: GetSourceByNameOrUuid
      summary: Get source by Name or UUID
      description: Get details for a specific source
      tags:
        - metadata
      security:
        - BearerAuth: []
      parameters:
        - name: nameOrUUID
          in: path
          required: true
          schema:
            type: string
          description: Source Name or UUID
      responses:
        '200':
          description: Source details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SourcesResponse'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/metadata/sources/srctags/{sourceUUID}:
    get:
      operationId: GetSourceTags
      summary: Get source data tags for a specific source using a tag query
      description: Returns all source data tags for a specific source matching the query. Use [{}] as the query to return all tags for the source.
      tags:
        - metadata
      security:
        - BearerAuth: []
      parameters:
        - name: sourceUUID
          in: path
          required: true
          schema:
            type: string
          description: Source UUID
        - name: query
          in: query
          required: true
          schema:
            type: string
          description: Tag query JSON string
      responses:
        '200':
          description: Source tag records
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SourceTagRecords'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/metadata/sources/statesets/{sourceUUID}:
    get:
      operationId: GetStateSets
      summary: Get a map of all state sets by id and name for a specific source
      description: Get a map of all state sets by id and name for a specific source
      tags:
        - metadata
      security:
        - BearerAuth: []
      parameters:
        - name: sourceUUID
          in: path
          required: true
          schema:
            type: string
          description: Source UUID
      responses:
        '200':
          description: Map of state set IDs to names
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true

  /api/v1/metadata/sources/statesets/name/{sourceUUID}:
    get:
      operationId: GetStateSetByName
      summary: Get state set for a source by Name
      description: Get details for a specific state set by Name
      tags:
        - metadata
      security:
        - BearerAuth: []
      parameters:
        - name: sourceUUID
          in: path
          required: true
          schema:
            type: string
          description: Source UUID
        - name: name
          in: query
          required: true
          schema:
            type: string
          description: State Set Name
      responses:
        '200':
          description: State set details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MDStateSet'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/metadata/sources/statesets/id/{sourceUUID}:
    get:
      operationId: GetStateSetById
      summary: Get state set for a source by ID
      description: Get details for a specific state set by ID
      tags:
        - metadata
      security:
        - BearerAuth: []
      parameters:
        - name: sourceUUID
          in: path
          required: true
          schema:
            type: string
          description: Source UUID
        - name: id
          in: query
          required: true
          schema:
            type: integer
          description: State Set ID
      responses:
        '200':
          description: State set details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MDStateSet'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/timeseries/types:
    get:
      operationId: ListTimeseriesTypes
      summary: List supported timeseries data types
      description: List supported timeseries data types
      tags:
        - timeseries
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Map of supported timeseries data type IDs to names
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/timeseries/taginfo/{tagUUID}:
    get:
      operationId: GetTagInfo
      summary: Get timeseries tag info by tag UUID
      description: Get timeseries tag info by tag UUID
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: tagUUID
          in: path
          required: true
          schema:
            type: string
          description: Tag UUID
      responses:
        '200':
          description: Timeseries tag info details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TSGetTagInfoResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true  
  /api/v1/timeseries/alltaginfo:
    get:
      operationId: GetAllTagInfo
      summary: Get timeseries tag info for all tags
      description: Get timeseries tag info for all tags
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: startPosition
          in: query
          required: true
          schema:
            type: integer
          description: Starting position for pagination (default 0)
        - name: maxResults
          in: query
          required: true
          schema:
            type: integer
          description: Maximum number of tags to return (default 100)
      responses:
        '200':
          description: Array of Map of Tag UUIDs to their info details
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  $ref: '#/components/schemas/TSGetTagInfoResponses'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/timeseries/tagsbysource/{sourceUUID}:
    get:
      operationId: GetTagsBySource
      summary: Get timeseries tag UUIDs for a specific source
      description: Get timeseries tag UUIDs for a specific source
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: sourceUUID
          in: path
          required: true
          schema:
            type: string
          description: Source UUID
        - name: srcDataUUIDs
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: list of source data UUIDs
      responses:
        '200':
          description: List of Tag UUIDs for the specified source and src data uuids
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/timeseries/samples:
    get:
      operationId: GetSamples
      summary: Get timeseries samples for tags
      description: Get samples (recorded data) for timeseries tags. Supports both JSON and binary (MessagePack) formats. For binary, set Accept header to "application/msgpack"
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: starttime
          in: query
          required: true
          schema:
            type: string
          description: Start Time in ISO8601 format
        - name: endtime
          in: query
          required: true
          schema:
            type: string
          description: End Time in ISO8601 format
        - name: maxSamples
          in: query
          required: true
          schema:
            type: integer
          description: Maximum number of samples to retrieve per tag
        - name: tagUuids
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of Tag UUIDs
        - name: fromUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert from, one per tagUUID
        - name: toUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert to, one per tagUUID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
            application/msgpack:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/v1/timeseries/plotsamples:
    get:
      operationId: GetPlotSamples
      summary: Get plot timeseries samples for tags
      description: Get data for timeseries tags. Supports both JSON and binary (MessagePack) formats. For binary, set Accept header to "application/msgpack"
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: starttime
          in: query
          required: true
          schema:
            type: string
          description: Start Time in ISO8601 format
        - name: endtime
          in: query
          required: true
          schema:
            type: string
          description: End Time in ISO8601 format
        - name: lanes
          in: query
          required: true
          schema:
            type: integer
          description: Number of lanes for downsampling
        - name: maxSamples
          in: query
          required: true
          schema:
            type: integer
          description: Maximum number of samples to retrieve per tag
        - name: tagUuids
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
          description: List of Tag UUIDs
        - name: fromUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          description: List of units to convert from, one per tagUUID
        - name: toUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          description: List of units to convert to, one per tagUUID
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSeriesSamplesResponse"
            application/msgpack:
              schema:
                $ref: "#/components/schemas/TimeSeriesSamplesResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/v1/timeseries/aggregatesamples:
    get:
      operationId: GetAggregateSamples
      summary: Get aggregate timeseries samples for tags
      description: Get data for timeseries tags aggregated. Supports both JSON and binary (MessagePack) formats. For binary, set Accept header to "application/msgpack"
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: starttime
          in: query
          required: true
          schema:
            type: string
          description: Start Time in ISO8601 format
        - name: endtime
          in: query
          required: true
          schema:
            type: string
          description: End Time in ISO8601 format
        - name: aggregateType
          in: query
          required: true
          schema:
            type: integer
          description: Type of aggregation such as average, mean, total, sum
        - name: window
          in: query
          required: true
          schema:
            type: number
          description: Window in seconds for aggregation
        - name: maxSamples
          in: query
          required: true
          schema:
            type: integer
          description: Maximum number of samples to retrieve per tag
        - name: tagUuids
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of Tag UUIDs
        - name: fromUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert from, one per tagUUID
        - name: toUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert to, one per tagUUID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
            application/msgpack:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/v1/timeseries/gridsamples:
    get:
      operationId: GetGridSamples
      summary: Get grid timeseries samples for tags
      description: Get data for timeseries tags in a grid format (equally spaced samples, interpolated if needed). Supports both JSON and binary (MessagePack) formats. For binary, set Accept header to "application/msgpack"
      tags:
        - timeseries
      security:
        - BearerAuth: []
      parameters:
        - name: starttime
          in: query
          required: true
          schema:
            type: string
          description: Start Time in ISO8601 format
        - name: endtime
          in: query
          required: true
          schema:
            type: string
          description: End Time in ISO8601 format
        - name: grid
          in: query
          required: true
          schema:
            type: number
          description: Grid interval in seconds for equally spaced samples
        - name: maxSamples
          in: query
          required: true
          schema:
            type: integer
          description: Maximum number of samples to retrieve per tag
        - name: tagUuids
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of Tag UUIDs
        - name: fromUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert from, one per tagUUID
        - name: toUoms
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
          description: List of units to convert to, one per tagUUID
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
            application/msgpack:
              schema:
                $ref: '#/components/schemas/TimeSeriesSamplesResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
  /api/v1/timeseries/aggregateusageinfo:
    get:
      operationId: GetAggregateUsageInfo
      summary: Get aggregate usage info for timeseries queries
      description: Get aggregate usage information. This is a short description of the various supported aggregation types and usage
      tags:
        - timeseries
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Usage info details
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string  
  /api/v1/timeseries/aggregatetypes:
    get:
      operationId: ListAggregateTypes
      summary: List supported aggregate types for timeseries queries
      description: List supported aggregate types for timeseries queries such as average, mean, total, sum, min, max, etc.
      tags:
        - timeseries
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Map of supported aggregate type IDs to names
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/uom/prefixes:
    get:
      operationId: ListPrefixes
      summary: Get list of supported unit of measure (UOM) prefixes for timeseries queries
      description: Get list of supported unit of measure (UOM) prefixes for timeseries queries such as kilo, milli, micro, etc.
      tags:
        - uom
      security:
        - BearerAuth: []
      responses:
        '200':
          description: List of UOM prefixes
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrefixListResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true  
  /api/v1/uom/uoms:
    get:
      operationId: ListUoms
      summary: List supported unit of measures (UOMs) for timeseries queries
      description: List supported unit of measures (UOMs) for timeseries queries. Optionally filter by a search string that matches either the UOM name, symbol, or alias.
      tags:
        - uom
      security:
        - BearerAuth: []
      parameters:
        - name: filterString
          in: query
          required: true
          schema:
            type: string
          description: Filter string to match UOM name, symbol, or alias
      responses:
        '200':
          description: UOM Info Table with all the details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UOMInfoTable'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/uom/info/{uomName}:
    get:
      operationId: GetUomInfo
      summary: Get unit of measure (UOM) details by name for timeseries queries
      description: Get unit of measure (UOM) details by name for timeseries queries. These are single UOMs, not derived UOMs like m/second.
      tags:
        - uom
      security:
        - BearerAuth: []
      parameters:
        - name: uomName
          in: path
          required: true
          schema:
            type: string
          description: UOM name to get details for
      responses:
        '200':
          description: UOM Info with all the details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UOMInfo'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true  
  /api/v1/uom/parse:
    get:
      operationId: ParseUom
      summary: Parse a unit of measure (UOM) string into its components
      description: Parse a single unit of measure (UOM) string and display conversion information. Derived UOMs are not supported. .
      tags:
        - uom
      security:
        - BearerAuth: []
      parameters:
        - name: uomString
          in: query
          required: true
          schema:
            type: string
          description: UOM string to parse
      responses:
        '200':
          description: Parse UOM into its base unit and conversion factors.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParseUOMResult'
        '400':
          description: Bad request (e.g. invalid UOM string)
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
  /api/v1/uom/convert:
    get:
      operationId: ConvertUom
      summary: Convert a value from one unit of measure (UOM) to another
      description: Convert a value from one unit of measure (UOM) to another. For example, convert 100 from "km/h" to "m/s".
      tags:
        - uom
      security:
        - BearerAuth: []
      parameters:
        - name: value
          in: query
          required: true
          schema:
            type: number
          description: Value to convert
        - name: fromUOM
          in: query
          required: true
          schema:
            type: string
          description: Unit of measure to convert from
        - name: toUOM
          in: query
          required: true
          schema:
            type: string
          description: Unit of measure to convert to
      responses:
        '200':
          description: The value converted to the target unit of measure (UOM).
          content:
            application/json:
              schema:
                type: number
                format: double
        '400':
          description: Bad request (e.g. invalid UOMs or incompatible UOMs)
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true  
components:
  schemas:
    VersionInfoResponse:
      type: object
      properties:
        version:
          type: string
        buildTime:
          type: string
        gitCommit:
          type: string
        libCVersion:
          type: string
      required:
        - version
        - buildTime
        - gitCommit
        - libCVersion
      description: Version information response
    SourceTagRecord:
      type: object
      properties:
        src_uuid:
          type: string
        src_data_uuid:
          type: string
        src_tag_name:
          type: string
        fields:
          type: object
          additionalProperties:
            type: string
          description: Map of fields as a set of name value pairs
      required:
        - src_uuid
        - src_data_uuid
        - src_tag_name
        - fields
      description: Source tag record
    SourceTagRecords:
      type: object
      properties:
        source_tags:
          type: array
          items:
            $ref: '#/components/schemas/SourceTagRecord'
          description: Array of source tag records
      required:
        - source_tags
      description: Object containing array of source tag records
    MDStateSet:
      type: object
      properties:
        src_uuid:
          type: string
        state_set_id:
          type: integer
        state_set_name:
          type: string
        states:
          type: object
          description: Mapping of state IDs to names
          additionalProperties:
            type: string
      required:
        - src_uuid
        - state_set_id
        - state_set_name
        - states
      description: State set details
    SourcesResponse:
      type: object
      properties:
        src_uuid:
          type: string
        src_name:
          type: string
        fields:
          type: object
          additionalProperties:
            type: string
          description: Map of fields as a set of name value pairs
      required:
        - src_uuid
        - src_name
        - fields
      description: Source details response
    ClassificationResponse:
      type: object
      properties:
        name:
          type: string
        items:
          type: integer
      required:
        - name
        - items
      description: Classification details response
    AssetResponse:
      type: object
      properties:
        asset_uuid:
          type: string
        asset_name:
          type: string
        aliases:
          type: object
          description: Mapping of alias names to UUIDs
          additionalProperties:
            type: string
        fields:
          type: object
          description: Mapping of field names to values
          additionalProperties:
            type: string
        parent_assets:
          type: array
          items:
            type: string
        child_assets:
          type: array
          items:
            type: string
      required:
        - asset_uuid
        - asset_name
        - aliases
        - fields
        - parent_assets
        - child_assets
      description: Asset details response
    TSGetTagInfoResponse:
      type: object
      properties:
        tag_uuid:
          type: string
        source_uuid:
          type: string
        source_data_uuid:
          type: string
        data_type:
          type: integer
        uom:
          type: string
        record_count:
          type: integer
        earliest_time_iso8601:
          type: string
        latest_time_iso8601:
          type: string
      required:
        - tag_uuid
        - source_uuid
        - source_data_uuid
        - data_type
        - uom
        - record_count
        - earliest_time_iso8601
        - latest_time_iso8601
      description: Timeseries tag info response
    TSGetTagInfoResponses:
      type: array
      items:
        $ref: '#/components/schemas/TSGetTagInfoResponse'
    GetSamplesResult:
      type: object
      properties:
        is_status:
          type: array
          items:
            type: boolean
        timestamps_ns:
          type: array
          items:
            type: integer
        values:
          type: array
          items:
            type: number
        values_str:
          type: array
          items:
            type: string
        array_info:
          $ref: '#/components/schemas/TSSampleArrayInfo'
      required:
        - is_status
        - timestamps_ns
        - array_info
      additionalProperties: false
    TSSampleArrayInfo:
      type: object
      properties:
        tag_uuid:
          type: string
        data_type:
          type: integer
        uom:
          type: string
        sample_count:
          type: integer
        start_boundary:
          $ref: '#/components/schemas/TimeSeriesSample'
        end_boundary:
          $ref: '#/components/schemas/TimeSeriesSample'
        data_assembly_time:
          type: number
      required:
        - tag_uuid
        - data_type
        - uom
        - sample_count
        - start_boundary
        - end_boundary
        - data_assembly_time
      additionalProperties: false
    TimeSeriesSample:
      type: object
      properties:
        is_status:
          type: boolean
        timestamp_ns:
          type: integer
        value:
          type: number
        value_str:
          type: string
      required:
        - is_status
        - timestamp_ns
      additionalProperties: false
    TimeSeriesSamplesResponse:
      type: object
      properties:
        data:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/GetSamplesResult'
      required:
        - data
      additionalProperties: false
    PrefixListResponse:
      type: object
      properties:
        prefix_name:
          type: array
          items:
            type: string
          description: List of prefix names
        prefix_symbol:
          type: array
          items:
            type: string
          description: List of prefix symbols
        prefix_factor:
          type: array
          items:
            type: number
          description: List of prefix factors
      required:
        - prefix_name
        - prefix_symbol
        - prefix_factor
      description: Dictionary of arrays for UOM prefixes
    UOMInfo:
      type: object
      properties:
        name:
          type: string
        plural_name:
          type: string
        symbol:
          type: string
        def:
          type: string
        definition:
          type: string
        comment:
          type: string
        is_base:
          type: boolean
        is_dimensionless:
          type: boolean
        aliases:
          type: string
          description: comma-separated list of aliases for the UOM
      required:
        - name
        - plural_name
        - symbol
        - def
        - definition
        - comment
        - is_base
        - is_dimensionless
        - aliases
      additionalProperties: false 

    UOMInfoTable:
      type: object
      properties:
        names:
          type: array
          items:
            type: string
        plural_names:
          type: array
          items:
            type: string
        symbols:
          type: array
          items:
            type: string
        defs:
          type: array
          items:
            type: string
        definitions:
          type: array
          items:
            type: string
        comments:
          type: array
          items:
            type: string
        is_base:
          type: array
          items:
            type: boolean
        is_dimensionless:
          type: array
          items:
            type: boolean
        aliases:
          type: array
          items:
            type: string
      required:
        - names
        - plural_names
        - symbols 
        - defs
        - definitions
        - comments
        - is_base
        - is_dimensionless
        - aliases
      additionalProperties: false
    RootAssetsResponse:
      type: object
      additionalProperties:
        type: string
      description: Map of asset UUIDs to asset names (or similar)
    ParseUOMResult:
      type: object
      properties:
        name:
          type: string
        symbol:
          type: string
        def:
          type: string
      required:
        - name
        - symbol
        - def
      additionalProperties: false
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
